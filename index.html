<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Wasi Song Tube</title>
  <style>
    body {margin:0;padding:0;font-family:Arial,sans-serif;background: linear-gradient(to right, #2c3e50, #3498db);color:#fff;transition:background .3s,color .3s;}
    .light {background:#f4f4f4;color:#111;}
    header {padding:20px;text-align:center;font-size:2.5rem;background:linear-gradient(to right,#ff6a00,#ee0979);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .topbar {display:flex;justify-content:center;gap:10px;padding:15px;}
    input {padding:10px;width:60%;max-width:400px;border:none;border-radius:8px;font-size:1rem;}
    button {padding:10px 16px;border:none;border-radius:8px;background:#ff6a00;color:#fff;cursor:pointer;}
    .loader {display:none;text-align:center;padding:20px;color:#ff6a00;}
    .cards {display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:20px;}
    .card {width:320px;border-radius:10px;overflow:hidden;background:rgba(255,255,255,0.05);}
    .card iframe {width:100%;height:180px;border:none;}
    footer {padding:20px;text-align:center;font-size:0.9rem;color:#888;}
    .whatsapp {position:fixed;bottom:20px;right:20px;background:#25D366;padding:10px 15px;border-radius:50px;color:#fff;text-decoration:none;font-weight:bold;}
  
    .card iframe { width: 100%; height: 180px; transition: all 0.3s ease; }
    .card.active iframe { height: 400px; }
    
    .logo {
      font-size: 2.2rem;
      vertical-align: middle;
      margin-right: 10px;
    }
    .animated-title {
      font-size: 2.5rem;
      background: linear-gradient(90deg, #ff6a00, #ee0979, #ff6a00);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 3s linear infinite;
    }
    @keyframes shine {
      0% { background-position: 0% center; }
      100% { background-position: 200% center; }
    }
    
#loadingScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
#loadingMessage {
  color: #fff;
  font-size: 2.2rem;
  animation: fadeInOut 3s ease-in-out forwards;
}
@keyframes fadeInOut {
  0% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}

.whatsapp {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: #25D366;
  padding: 10px 15px;
  border-radius: 50px;
  color: #fff;
  text-decoration: none;
  font-weight: bold;
  z-index: 1000;
}
</style>



</head>

<body>
  <!-- Loading Screen -->
  <div id="loadingScreen">
    <div id="loadingMessage">Welcome to Wasi Song Tube</div>
  </div>

  
    <header>
      <span class="logo">ðŸŽ§</span>
      <span class="animated-title">Wasi Song Tube</span>
    </header>

  <div class="topbar">
    <input id="query" placeholder="Search songs..." onkeydown="if(event.key==='Enter') searchVideos()" />
    <button onclick="searchVideos()">Search</button>
    <button onclick="toggleTheme()">ðŸŒ— Theme</button>
  </div>
  <div id="loader" class="loader">Loading...</div>
  <div id="cards" class="cards"></div>
  <footer>WhatsApp: +923175768178 â€¢ Built by Wasi</footer>
  <a class="whatsapp" href="https://wa.me/923175768178" target="_blank">ðŸ’¬ WhatsApp</a>

  <script>
    const apiKey = 'AIzaSyBylc48brJYEjlKgT0nfOji0f_3MI_nxIs';
    function toggleTheme(){document.body.classList.toggle('light');}

    async function searchVideos(queryParam) {
      const query = queryParam || document.getElementById('query').value.trim();
      if (!query) return alert('Please enter a search term.');

      document.getElementById('loader').style.display='block';
      document.getElementById('cards').innerHTML='';

      try {
        const res = await fetch(
          `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=8&type=video&q=${encodeURIComponent(query)}&key=${apiKey}`
        );
        const data = await res.json();
        document.getElementById('loader').style.display='none';
        if (!data.items || data.items.length === 0) return alert('No results found.');

        data.items.forEach(item => {
          const vid = item.id.videoId;
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `<div onclick='setActiveCard(this.parentElement)'>
            <iframe src="https://www.youtube.com/embed/${vid}" allowfullscreen></iframe>
            <h4 style="padding:10px;">${item.snippet.title}</h4>
          `;
          document.getElementById('cards').appendChild(card);
        });
      } catch (err) {
        console.error(err);
        document.getElementById('loader').style.display = 'none';
        alert('An error occurred. Please try again.');
      }
    }

    // Load trending default searches
    
window.onload = () => {
  setTimeout(() => {
    document.getElementById('loadingScreen').style.display = 'none';
  }, 3000);

      searchVideos('Latest Pakistani Songs');
    };
  
    // Function to set clicked card as active
    function setActiveCard(cardElement) {
      document.querySelectorAll('.card').forEach(card => {
        card.classList.remove('active');
      });
      cardElement.classList.add('active');
    }
    </script>


  <script src="//code.tidio.co/v6flfnabuyblfkrginqkly19wazdskhc.js" async>
    // Function to set clicked card as active
    function setActiveCard(cardElement) {
      document.querySelectorAll('.card').forEach(card => {
        card.classList.remove('active');
      });
      cardElement.classList.add('active');
    }
    </script>

</body>
</html>
